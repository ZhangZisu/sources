# NOIP2018 模拟赛
## NOIP2018 Training
### 第一试
> 时间：2018 年 7 月 27 日 08:30 ∼ 12:00

| 题目名称 | 偏差 | 闪烁魔法 | 景中人 |
|---|---|---|---|
|题目类型|传统型|传统型|传统型|
|目录|deviation|blink|scene|
|可执行文件名|deviation|blink|scene|
|输入文件名|deviation.in|blink.in|scene.in|
|输出文件名|deviation.out|blink.out|scene.out|
|每个测试点时限|1.0 秒|1.0 秒|1.0 秒|
|内存限制|512 MB|512 MB|512 MB|
|测试点数目|20|10|10|
|每个测试点分值|5|10|10|
|对于 C++ 语言|deviation.cpp|blink.cpp|scene.cpp|
|对于 C 语言|deviation.c|blink.c|scene.c|
|对于 Pascal 语言|deviation.pas|blink.pas|scene.pas|
|对于 C++ 语言|-O2|-O2|-O2|
|对于 C 语言|-O2|-O2|-O2|
|对于 Pascal 语言|-O2|-O2|-O2|

---

### 偏差（deviation）
#### 【题目背景】
wangyurzee7 和 Yazid 是好朋友。
#### 【题目描述】
wangyurzee7 是一个繁忙的工作者，他每天都要处理许多有趣、复杂的问题。但由于能力有限，他总会出各种各样的偏差，这让 Yazid 头疼不已。有一天，wangyurzee7 收到了一个任务：他获得了一个长度为 n 的序列 A（下标从1 开始），他需要选择这个序列中的一个长度为 m 的连续子区间，然后把这段区间内的数按顺序写下来，得到序列 B。这个任务非常简单，但 wangyurzee7 实在是太弱了，所以他在做的时候还是出了偏差。他有一个偏差值 k，当他在抄写得到序列 B 的时候，他把 B 中的每个元素都加上了 k（其中 k 是一个整数）！也就是说，假设原序列为 A[1] . . . A[n]，wangyurzee7 取的子区间是 [l, l + m − 1]，那么对于 1 ≤ i ≤ m，都有 B[i] = A[l + i − 1] + k。Yazid 勃然大怒，他根本没想到这么简单的任务 wangyurzee7 都不能胜任。他把wangyurzee7 狠狠地批判了一番。当然啦，责任还是要由出偏差的人来承担。可是 wangyurzee7 并不记得他的偏差值k。无奈之下，他只好退而求其次，提出了一些更模糊的问题：

1. 偏差值 k 的取值有几种可能。
2. 偏差值绝对值 |k| 的最小值是多少。
3. 他选择的子区间的左端点 l 有几种取值可能。
4. 他选择的子区间的左端点 l 最左可能是多少。
5. 他选择的子区间的左端点 l 最右可能是多少。

既然要求的东西变少了，问题也就变得更简单了。请你帮帮可怜的wangyurzee7 解决这些问题。
#### 【输入格式】
从文件 `deviation.in` 中读入数据。

本题包含多组数据。第一行一个正整数 T 表示数据组数。接下来依次描述每组数据。对于每组数据：

第一行一个正整数 n，表示序列 A 的长度。

第二行 n 个用空格隔开的非负整数 A[1] . . . A[n]，描述了序列 A。

第三行一个正整数 m，表示序列 B 的长度。

第四行 m 个用空格隔开的非负整数 B[1] . . . B[m]，描述了序列 B。

#### 【输出格式】
输出到文件 `deviation.out` 中。

对于每组数据，输出 5 个用空格隔开的整数，依次表示 5 个问题的答案。特别地，对于问题 2, 4, 5，如果无解，请输出 0 作为答案。

#### 【样例 1 输入】
```
4
5
2 3 3 3 3
2
6 7
10
1 1 3 2 1 3 2 1 2 2
3
1 3 2
5
100 200 300 900 1000
2
800 900
4
2 3 3 3
2
1 233
```
#### 【样例 1 输出】
```
1 4 1 1 1
1 0 2 2 5
3 100 3 1 4
0 0 0 0 0
```
#### 【子任务】
对于 40% 的数据，保证 n ≤ 100，序列中元素的值不超过 1, 000。

对于 60% 的数据，保证 n ≤ 1, 000。

对于另外 20% 的数据，保证序列中元素的值不超过 100。

对于 100% 的数据，保证 T ≤ 6, 1 ≤ m ≤ n ≤ 105，序列中元素的值不超过 109。

---

### 闪烁魔法（blink）
#### 【题目背景】
Nancy 是一名清华大学的魔法师，她最擅长的魔法是闪烁魔法。
#### 【题目描述】
清华大学共有 n 个地点，编号从 1 至 n。Nancy 的闪烁魔法可以让自己从某个地点瞬间移动到另一个地点。每次使用闪烁魔法都需要消耗一定的魔法值。在不同的两个地点之间使用闪烁魔法进行移动需要消耗的魔法值可能不同。利用闪烁魔法，Nancy 在清华大学生活得十分自在。然而，好景不长，由于黑恶势力的封印，Nancy 的闪烁魔法不能再肆无忌惮地使用了。具体来说，Nancy 只能在特定的 n − 1 对地点之间使用闪烁魔法。这些特定的地点对、以及在每对地点对之间使用闪烁魔法需要消耗的魔法值会给出。巧妙的是，Nancy 发现，虽然黑恶势力对她进行了封印，但是她还是可以从任意一个地点出发，只使用闪烁魔法到达其他所有的地点。Nancy 决定不向黑恶势力低头。现在，Nancy 要执行一个任务。在清华大学的 n 个地点中有 k 个插有旗帜的地点。而 Nancy 的任务正是访问所有插有旗帜的地点。除此之外，任务还要求 Nancy 在结束时回到她的出发点。（出发点可以任选）Nancy 知道所有的插有旗帜的地点。由于 Nancy 聪明绝顶，所以她一定会选择魔法值消耗最小的行动方案。

作为 Nancy 的粉丝，Yazid 想知道 Nancy 会消耗多少魔法值。但 Yazid 并不知道哪些地点有旗帜。于是他只好退而求其次，假设所有插旗帜的方案是等概率的，尝试求解Nancy 消耗魔法值的期望值。（即所有可能情况消耗魔法值的平均值）

可惜的是，Yazid 实在是太弱了。你能帮帮他吗？
#### 【输入格式】
从文件 `blink.in` 中读入数据。本题包含多组数据，第一行一个正整数 T，表示数据组数。接下来依次描述每组数据，对于每组数据：

第一行 2 个正整数 n, k，分别表示清华大学的地点数目，以及插有旗帜的地点的数目。

接下来 n − 1 行，每行 3 个正整数 u, v,w，表示一组没有被封印的闪烁魔法为：消耗 w 点魔法值从 u 闪烁至 v（或从 v 闪烁至 u）。
#### 【输出格式】
输出到文件 `blink.out` 中。对于每组数据，输出一行一个正整数，表示期望消耗的魔法值在模 `998244353` 意义下的结果。
#### 【样例 1 输入】
```
1
3 2
1 2 1
2 3 3
```
#### 【样例 1 输出】
```
332748123
```
#### 【样例 2】
见选手目录下的 `blink/blink2.in` 与 `blink/blink2.ans`。该样例的数据规模与第10 个测试点相同。
#### 【提示】
对于分数 $\frac{u}{v}$，其在模 $P$ 意义下的值 $ans$ 是指满足 $u ≡ v × ans (mod P)$ 的数。可以证明，如果 $P = 998244353$，则对于任意满足 $v$ 不是 $P$ 的倍数的分数都有 $ans$ 唯一。此外，根据费马小定理，如果 $P$ 是质数，$a$ 不是 $P$ 的倍数，有 $a^{P-1}=1(\mod p)$。
#### 【子任务】
对于 20% 的数据，保证 n ≤ 20。

对于另外 20% 的数据，保证 k = 2。

对于另外 20% 的数据，保证 k = n。

对于另外 20% 的数据，保证 n ≤ 200。

对于 100% 的数据，保证 1 ≤ k ≤ n ≤ 100, 000，T ≤ 4，w ≤ 10, 000。

---

### 景中人（scene）
> ‘‘你站在桥上看风景，看风景的人在楼上看你。”—---《断章》卞之琳
#### 【问题描述】
有 n 个看风景的人在桥上。桥可以看成一个二维平面，那么每个人的位置都可以用一个坐标来表示。Yazid 突发奇想，想用矩形把他们都覆盖住。Yazid 发现，只需要用 1 个巨大的矩形就可以做到这点。于是他规定单个矩形的面积不能超过 S。Yazid 还觉得桥的下边的栏杆很优秀，于是他又规定了矩形的一条边必须贴着下栏杆（直线 y = 0）。这下可把辣鸡蒟蒻 Yazid 难住了，他找到了即将参加 NOIP 的你，请你告诉他，他至少要用几个矩形才能覆盖所有的景中人呢？
#### 【输入格式】
从文件 `scene.in` 中读入数据。
本题包含多组数据。第一行一个整数 T，表示数据组数。接下来依次描述各组数据，
对于每组数据：
第一行 2 个整数 n, S，意义见题目描述。
接下来 n 行，每行 2 个非负整数 x, y，描述一个人的横纵坐标。
#### 【输出格式】
输出到文件 `scene.out` 中。
对于每组数据，一行一个整数表示所需要使用的最少的矩形数目。
#### 【样例 1 输入】
```
1
6 4
2 1
4 1
5 1
5 4
7 1
6 4
```
#### 【样例 1 输出】
```
3
```
#### 【样例 2】
见选手目录下的 `scene/scene2.in` 与 `scene/scene2.ans`。
#### 【子任务】
对于 10% 的数据，保证 n ≤ 8，x ≤ 10，S ≤ 20。

对于 30% 的数据，保证 n ≤ 18，x ≤ 700，S ≤ 1024。

对于 90% 的数据，保证 n ≤ 90。

对于 100% 的数据，保证 T ≤ 10，保证 n ≤ 100，x ≤ 3, 000, 000，1 ≤ y ≤ S ≤ 200, 000。
